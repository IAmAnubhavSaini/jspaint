/*! jspaint 2015-06-29 */
$(function(){"use strict";var a="jspaint-canvas",b="jspaint-paint-area",c=window.location.toString().split("?")[1].split("=")[1],d=c.split("x")[0],e=c.split("x")[1],f="",g="",h="working-with-tools",i="main-tool",j=null,k=function(){for(var a=[{id:"00FFFF",name:"Aqua"},{id:"000000",name:"Black"},{id:"0000FF",name:"Blue"},{id:"FF00FF",name:"Fuchsia"},{id:"808080",name:"Gray"},{id:"008000",name:"Green"},{id:"00FF00",name:"Lime"},{id:"800000",name:"Maroon"},{id:"000080",name:"Navy"},{id:"808000",name:"Olive"},{id:"800080",name:"Purple"},{id:"FF0000",name:"Red"},{id:"C0C0C0",name:"Silver"},{id:"008080",name:"Teal"},{id:"FFFFFF",name:"White"},{id:"FFFF00",name:"Yellow"}],b=0;b<a.length;b++){var c="#"+a[b].id,d=$('<div class="color" id="Color-Hex-'+c+'" style="background-color: '+c+';"></div>');d.appendTo(".BasicColorPalette")}},l=function(b){$("#"+a).addClass(h),$(b.tool).addClass("active-tool")},m=function(b){$("#"+a).removeClass(h),$(b.tool).removeClass("active-tool")},n=function(){var c=d,f=e;return $("<canvas/>",{id:a}).prop({width:c,height:f}).appendTo("#"+b),$("#"+a)[0].getContext("2d")},o=function(){$("#"+a).on("mousemove",function(a){j.fillRect(a.pageX-$(this).offset().left,a.pageY-$(this).offset().top,2,2)})},p=function(){$("#"+a).off("mousemove")},q=function(a,b,c){j.beginPath(),j.arc(a,b,c,0,2*Math.PI,!1),j.fillStyle=f,j.fill()},r=function(){$("#"+a).on("click",function(a){q(a.pageX-$(this).offset().left,a.pageY-$(this).offset().top,4)})},s=function(){$("#"+a).off("click")};!function(){$("#jspaint-paint-area").css({width:d,height:e}),j=new n,$("."+i).attr("title","Click to activate;\nRight-click to deactivate;"),$(".top-taker").TopTaker({theme:"dark"}),new k}(),$("#SpeedDotsFreeStyleTool").bind("click",function(){new l({tool:this}),o({tool:this})}).bind("contextmenu",function(a){return a.preventDefault(),p({tool:this}),new m({tool:this}),!1}),$("#CircleStampTool").bind("click",function(){new l({tool:this}),r({tool:this})}).bind("contextmenu",function(){s({tool:this}),new m({tool:this})}),$(".color").on("click",function(){var a="#"+$(this).attr("id").split("#")[1];f=a,j.fillStyle=a}).on("contextmenu",function(){var a="#"+$(this).attr("id").split("#")[1];g=a})});