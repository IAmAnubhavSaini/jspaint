/*! jspaint 2015-06-30 */
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):b("object"==typeof exports?require("jquery"):a.jQuery)}(this,function(a){"use strict";function b(b,c){-1===a.inArray(c,["horizontal","vertical","both"])&&a.error("Flip value must be one of horizontal, vertical or both");var d,e=a("<canvas />")[0];return e.width=b.width,e.height=b.height,d=e.getContext("2d"),("horizontal"===c||"both"===c)&&(d.translate(b.width,0),d.scale(-1,1)),("vertical"===c||"both"===c)&&(d.translate(0,b.height),d.scale(1,-1)),d.drawImage(b,0,0,b.width,b.height),e}var c=function(b,c){var d=0,e=0;return"string"!=typeof b&&a.error("Hotspot value is not a string and could not be parsed"),"number"!=typeof c&&a.error("Cursor size must be a number"),b.split(" ").forEach(function(a){switch(a){case"center":d=c/2,e=c/2;break;case"top":e=0;break;case"bottom":e=c-1;break;case"left":d=0;break;case"right":d=c-1}}),[d,e]};a.fn.extend({awesomeCursor:function(d,e){e=a.extend({},a.fn.awesomeCursor.defaults,e),"string"==typeof d&&d||a.error("First parameter must be the icon name, e.g. 'pencil'"),e.size="string"==typeof e.size?parseInt(e.size,10):e.size,"string"==typeof e.hotspot&&(e.hotspot=c(e.hotspot,e.size)),e.hotspot=a.map(e.hotspot,function(a){return Math.min(e.size-1,Math.max(0,a))});var f,g,h,i,j=function(a,b){return"string"==typeof b?b.replace(/%s/g,a):"function"==typeof b?b(a):a}(d,e.font.cssClass),k=a("<i />",{"class":j,style:"position: absolute; left: -9999px; top: -9999px;"}),l=a("<canvas />")[0],m=e.size;return a("body").append(k),g=window.getComputedStyle(k[0],":before").getPropertyValue("content"),k.remove(),e.outline&&(m+=2),e.rotate?(m=Math.ceil(Math.sqrt(Math.pow(m,2)+Math.pow(m,2))),f=(m-e.size)/2,l.width=m,l.height=m,i=l.getContext("2d"),i.translate(l.width/2,l.height/2),i.rotate(e.rotate*Math.PI/180),i.translate(-l.width/2,-l.height/2),e.hotspot[0]+=e.hotspot[0]!==l.width/2?f:0,e.hotspot[1]+=e.hotspot[1]!==l.height/2?f:0):(l.height=m,l.width=m,i=l.getContext("2d")),g=g.replace(/['"]/g,""),i.fillStyle=e.color,i.font=e.size+"px "+e.font.family,i.textAlign="center",i.textBaseline="middle",i.fillText(g,m/2,m/2),e.outline&&(i.lineWidth=.5,i.strokeStyle=e.outline,i.strokeText(g,m/2,m/2)),e.flip&&(l=b(l,e.flip)),h=l.toDataURL("image/png"),a(this).css("cursor",["url("+h+")",e.hotspot[0],e.hotspot[1],",","auto"].join(" ")),this}}),a.fn.awesomeCursor.defaults={color:"#000000",size:18,hotspot:[0,0],flip:"",rotate:0,outline:null,font:{family:"FontAwesome",cssClass:"fa fa-%s"}}});