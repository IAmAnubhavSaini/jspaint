/*! jspaint 2015-07-15 Anubhav Saini (c) 2015 */
$(function(){"use strict";var a={CONSTANTS:{id:"PointWalkerTool",selectionId:"#PointWalkerTool","class":"main-tool",title:"Click to draw random point walker. Click again to disable."},VARIABLES:{steps:100},start:function(b){var c=b.event,d="#"+b.canvasId,e=null,f=null,g=null,h=0;$(d).on(c,function(b){for(e={event:b,relativeTo:$(d)},f=Actions.Mouse.getX(e),g=Actions.Mouse.getY(e),h=0;h<a.VARIABLES.steps;h++)CANVASAPI.fillCirc(f,g,1),f+=Math.random()<.5?-1:1,g-=Math.random()<.5?-1:1})},stop:function(a){$("#"+a.canvasId).off(a.event)},ContextMenu:{activate:function(b){function c(a,b,c,d){return $('<input id="'+a+'" type="range" min="'+b+'" max="'+c+'" step="1" title="'+d+'" />')}function d(b){function d(b){var d=c("pointWalkerSptes","500",b.maxStepsAllowed,"Steps for random point walk generation.").attr("value",a.VARIABLES.steps).on("mouseover",function(){$(this).attr("title",$(this).val())}).on("change",function(){a.VARIABLES.steps=$(this).val()});return d}return $('<label style="color: #FFFFFF; font-size: 10px;"></label>').append(b.stepLabel).append(d(b))}var e=$("<div></div>").attr("id",b.id).addClass("menu-item");e.append(d(b)),e.appendTo($(b.containerSelectionCriterion))},deactivate:function(a){$("#"+a.id).remove()},getOptions:function(){return{tool:this,id:"PointWalkerContextMenu",containerSelectionCriterion:".contextual-tool-bar",maxStepsAllowed:1e5,stepLabel:"Steps: "}}},Events:{register:function(b){var c=b.toolId,d=$(c),e=a.ContextMenu;setupToolTips(d,a.CONSTANTS.title),b.tool=d,d.funcToggle("click",function(){activateTool(b),e.activate(e.getOptions())},function(){e.deactivate(e.getOptions()),deactivateTool(b)})}}};a.Events.register({toolId:a.CONSTANTS.selectionId,event:CONSTANTS.Events.mouseclick,canvasId:CONSTANTS.canvasId,start:a.start,stop:a.stop,toolName:"Point Walker"})});