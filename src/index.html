<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Welcome to js paint home page</title>
  <link href="./bootstrap.css" type="text/css" rel="stylesheet" />
  <link href="./TopTaker.widget.css" type="text/css" rel="stylesheet" />
</head>
<body>
  <div class="page-header">
    <div class="container">
      <h1>Don't you want to paint <small>without delay, online, from any device, at any time</small>?</h1>
    </div>
  </div>
  <div class="jumbotron">
    <div class="container">
      <h1>Say Hello to jspaint!</h1>
      <p>Online - Offline - Quick - Social Friendly</p>
    </div>
  </div>
  <div class="container">
    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th></th>
            <th>
              Options
            </th>
         </tr>
        </thead>
        <tbody>
          <tr>
            <th class="text-nowrap" scope="row">Dimensions of Paint Area</th>
            <td class="dimension-options">
              <button type="button" id="480x320" class="btn btn-lg" title="Width: 480px, Height: 320px">480 X 320</button>
              <button type="button" id="600x400" class="btn btn-lg" title="Width: 600px, Height: 400px">600 X 400</button>
              <button type="button" id="800x600" class="btn btn-lg" title="Width: 800px, Height: 600px">800 X 600</button>
              <button type="button" id="Max" class="btn btn-lg" title="Whatever your screen supports.">Maximum</button>
            </td>
          </tr>
          <tr>
            <th class="text-nowrap" scope="row">Orientation</th>
            <td class="orientation-options">
              <button type="button" id="landscape" class="btn btn-lg" title="Lying down. Width is greater than height.">Landscape</button>
              <button type="button" id="portrait" class="btn btn-lg" title="Standing up. Height is greater than width.">Portrait</button>
            </td>
          </tr>
          <tr>
            <th class="text-nowrap" scope="row">All set!</th>
            <td>
              <a id="jspaint-action" class="btn btn-primary btn-lg" href="./jspaint.html" role="button">Let's paint</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div>
    <div class="top-taker"></div>
  </div>
  <script src="./jquery.js" type="text/javascript"></script>
  <script src="./jquery-ui.js" type="text/javascript"></script>
  <script src="./TopTaker.widget.js" type="text/javascript"></script>
  <script type="text/javascript">
    "use strict;"
    $(function(){
      var setup = function(){
        $('.dimension-options button').on('click', function(){
          $('.dimension-options button').removeClass('btn-success');
          $(this).addClass('btn-success');
        });
        $('.orientation-options button').on('click', function(){
          $('.orientation-options button').removeClass('btn-success');
          $(this).addClass('btn-success');
        });
        $('#jspaint-action').on('click', function(e){
          e.preventDefault();

          var originalUri = $(this).attr('href'),
           queryPrfix = '?dimension=',
           selected = $('.dimension-options button.btn-success').attr('id'),
           queryValue = '',
           width = '',
           height='',
           orientation = $('.orientation-options button.btn-success').attr('id');

           if(selected.localeCompare('Max') === 0){
             width = document.documentElement.clientWidth - 21;
             height = document.documentElement.clientHeight;
           } else {
             width = $('.dimension-options button.btn-success').attr('id').split('x')[0];
             height = $('.dimension-options button.btn-success').attr('id').split('x')[1];
           }
           queryValue = orientation.localeCompare('landscape') === 0 ?
                        width + 'x' + height :
                        height + 'x' + width;

           window.location = originalUri+queryPrfix+queryValue;
        });
      },
      init = function(){
        $('#600x400, #landscape').trigger('click');
        $('.top-taker').TopTaker({'theme': 'dark'});
      };

      setup();
      init();
    });
  </script>
</body>
</html>
